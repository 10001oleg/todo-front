{"ast":null,"code":"var _jsxFileName = \"/Users/10001oleg/todo-ui/src/pages/Todos/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { List, Form, Input, Button, DatePicker, Row, Col, Card, Table } from \"antd\"; // Instruments\n\nimport { api } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport uuid from \"uuid\";\nimport { routes } from \"../../navigation/routes\";\nimport { history } from \"../../navigation/history\"; //Styles\n\nimport style from \"../../pages/style\";\nconst {\n  layout,\n  tailLayout\n} = style;\nexport const Todos = ({\n  token\n}) => {\n  const [todos, setTodos] = useState([]);\n  const columns = [{\n    //   width: 50,\n    title: \"Status\",\n    dataIndex: \"status\",\n    render: (text, row) => text\n  }, {\n    //   width: 50,\n    title: \"Name\",\n    dataIndex: \"channel\",\n    render: (text, row) => text\n  }, {\n    //   width: 50,\n    title: \"Description\",\n    dataIndex: \"channel\",\n    render: (text, row) => text\n  }].map(e => {\n    return { ...e,\n      key: uuid()\n    };\n  });\n\n  const onFinish = async values => {\n    try {\n      const todo = await api.createTodo(token, values);\n      setTodos(todos => [todo, ...todos]);\n    } catch ({\n      message\n    }) {\n      console.error(message);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  useEffect(() => {\n    const loadTodos = async () => {\n      try {\n        const data = await api.readTodos(token);\n        setTodos(data);\n        console.log(\"---data\", data);\n      } catch ({\n        message\n      }) {\n        console.log(message);\n      }\n    };\n\n    if (!token) {\n      history.push(routes.signIn);\n    } else {\n      loadTodos();\n    }\n  }, [token]);\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Col, {\n    style: {\n      marginTop: \"15px\"\n    },\n    span: 4,\n    offset: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    onClick: () => {\n      history.push(routes.signIn);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Switch Login\"))), React.createElement(Row, {\n    style: {\n      marginTop: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Col, {\n    span: 18,\n    offset: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Card, {\n    title: \"Todo List\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Form, Object.assign({}, layout, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(Form.Item, {\n    label: \"Name\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: \"Please input your name!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Description\",\n    name: \"description\",\n    rules: [{\n      required: true,\n      message: \"Please input your description!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Due date\",\n    name: \"dd\",\n    rules: [{\n      required: true,\n      message: \"Please input your due date!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Create Todo\"))), React.createElement(Table //   loading={isFetching}\n  , {\n    columns: columns //   rowKey={() => uuid()}\n    ,\n    dataSource: todos //   scroll={{ x: 1300 }}\n    ,\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })))));\n};","map":{"version":3,"sources":["/Users/10001oleg/todo-ui/src/pages/Todos/index.js"],"names":["React","useState","useEffect","List","Form","Input","Button","DatePicker","Row","Col","Card","Table","api","Link","uuid","routes","history","style","layout","tailLayout","Todos","token","todos","setTodos","columns","title","dataIndex","render","text","row","map","e","key","onFinish","values","todo","createTodo","message","console","error","onFinishFailed","errorInfo","log","loadTodos","data","readTodos","push","signIn","marginTop","remember","required"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  List,\n  Form,\n  Input,\n  Button,\n  DatePicker,\n  Row,\n  Col,\n  Card,\n  Table\n} from \"antd\";\n\n// Instruments\nimport { api } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport uuid from \"uuid\";\nimport { routes } from \"../../navigation/routes\";\nimport { history } from \"../../navigation/history\";\n\n//Styles\nimport style from \"../../pages/style\";\nconst { layout, tailLayout } = style;\n\nexport const Todos = ({ token }) => {\n  const [todos, setTodos] = useState([]);\n\n  const columns = [\n    {\n      //   width: 50,\n      title: \"Status\",\n      dataIndex: \"status\",\n      render: (text, row) => text\n    },\n    {\n      //   width: 50,\n      title: \"Name\",\n      dataIndex: \"channel\",\n      render: (text, row) => text\n    },\n    {\n      //   width: 50,\n      title: \"Description\",\n      dataIndex: \"channel\",\n      render: (text, row) => text\n    }\n  ].map(e => {\n    return { ...e, key: uuid() };\n  });\n\n  const onFinish = async values => {\n    try {\n      const todo = await api.createTodo(token, values);\n      setTodos(todos => [todo, ...todos]);\n    } catch ({ message }) {\n      console.error(message);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  useEffect(() => {\n    const loadTodos = async () => {\n      try {\n        const data = await api.readTodos(token);\n        setTodos(data);\n        console.log(\"---data\", data);\n      } catch ({ message }) {\n        console.log(message);\n      }\n    };\n\n    if (!token) {\n      history.push(routes.signIn);\n    } else {\n      loadTodos();\n    }\n  }, [token]);\n\n  return (\n    <>\n      <Row>\n        <Col style={{ marginTop: \"15px\" }} span={4} offset={20}>\n          <a\n            onClick={() => {\n              history.push(routes.signIn);\n            }}\n          >\n            Switch Login\n          </a>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: \"15px\" }}>\n        <Col span={18} offset={3}>\n          <Card title=\"Todo List\">\n            <Form\n              {...layout}\n              name=\"basic\"\n              initialValues={{\n                remember: true\n              }}\n              onFinish={onFinish}\n              onFinishFailed={onFinishFailed}\n            >\n              <Form.Item\n                label=\"Name\"\n                name=\"name\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your name!\"\n                  }\n                ]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                label=\"Description\"\n                name=\"description\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your description!\"\n                  }\n                ]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                label=\"Due date\"\n                name=\"dd\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your due date!\"\n                  }\n                ]}\n              >\n                <DatePicker />\n              </Form.Item>\n              <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Create Todo\n                </Button>\n              </Form.Item>\n            </Form>\n            {/* <List\n              itemLayout=\"horizontal\"\n              dataSource={todos}\n              renderItem={({ id, name, description, dd, status }) => (\n                <List.Item>\n                  <List.Item.Meta\n                    title={<Link to={`/${id}`}>{name}</Link>}\n                    description={description}\n                  />\n                  <List.Item.Meta description={dd} />\n                  <List.Item.Meta description={status} />\n                </List.Item>\n              )}\n            /> */}\n            <Table\n              //   loading={isFetching}\n              columns={columns}\n              //   rowKey={() => uuid()}\n              dataSource={todos}\n              //   scroll={{ x: 1300 }}\n              size={\"small\"}\n            ></Table>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}