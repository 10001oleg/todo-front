{"ast":null,"code":"var _jsxFileName = \"/Users/10001oleg/todo-ui/src/pages/Todos/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { List, Form, Input, Button, DatePicker, Row, Col, Card, Table } from \"antd\"; // Instruments\n\nimport { api } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport uuid from \"uuid\";\nimport { routes } from \"../../navigation/routes\";\nimport { history } from \"../../navigation/history\"; //Styles\n\nimport style from \"../../pages/style\";\nconst {\n  layout,\n  tailLayout\n} = style;\nexport const Todos = ({\n  token\n}) => {\n  const [todos, setTodos] = useState([]);\n\n  const onFinish = async values => {\n    try {\n      const todo = await api.createTodo(token, values);\n      setTodos(todos => [todo, ...todos]);\n    } catch ({\n      message\n    }) {\n      console.error(message);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  useEffect(() => {\n    const loadTodos = async () => {\n      try {\n        const data = await api.readTodos(token);\n        setTodos(data);\n        console.log(\"---data\", data);\n      } catch ({\n        message\n      }) {\n        console.log(message);\n      }\n    };\n\n    if (!token) {\n      history.push(routes.signIn);\n    } else {\n      loadTodos();\n    }\n  }, [token]);\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Col, {\n    style: {\n      marginTop: \"15px\"\n    },\n    span: 4,\n    offset: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    onClick: () => {\n      history.push(routes.signIn);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Switch Login\"))), React.createElement(Row, {\n    style: {\n      marginTop: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Col, {\n    span: 18,\n    offset: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Card, {\n    title: \"Todo List\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Form, Object.assign({}, layout, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(Form.Item, {\n    label: \"Name\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: \"Please input your name!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Description\",\n    name: \"description\",\n    rules: [{\n      required: true,\n      message: \"Please input your description!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Due date\",\n    name: \"dd\",\n    rules: [{\n      required: true,\n      message: \"Please input your due date!\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Create Todo\"))), React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: todos,\n    renderItem: ({\n      id,\n      name,\n      description,\n      dd,\n      status\n    }) => React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(List.Item.Meta, {\n      title: React.createElement(Link, {\n        to: `/${id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, name),\n      description: description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(List.Item.Meta, {\n      description: dd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(List.Item.Meta, {\n      description: status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })))));\n};","map":{"version":3,"sources":["/Users/10001oleg/todo-ui/src/pages/Todos/index.js"],"names":["React","useState","useEffect","List","Form","Input","Button","DatePicker","Row","Col","Card","Table","api","Link","uuid","routes","history","style","layout","tailLayout","Todos","token","todos","setTodos","onFinish","values","todo","createTodo","message","console","error","onFinishFailed","errorInfo","log","loadTodos","data","readTodos","push","signIn","marginTop","remember","required","id","name","description","dd","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  List,\n  Form,\n  Input,\n  Button,\n  DatePicker,\n  Row,\n  Col,\n  Card,\n  Table\n} from \"antd\";\n\n// Instruments\nimport { api } from \"../../api\";\nimport { Link } from \"react-router-dom\";\nimport uuid from \"uuid\";\nimport { routes } from \"../../navigation/routes\";\nimport { history } from \"../../navigation/history\";\n\n//Styles\nimport style from \"../../pages/style\";\nconst { layout, tailLayout } = style;\n\nexport const Todos = ({ token }) => {\n  const [todos, setTodos] = useState([]);\n\n  const onFinish = async values => {\n    try {\n      const todo = await api.createTodo(token, values);\n      setTodos(todos => [todo, ...todos]);\n    } catch ({ message }) {\n      console.error(message);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  useEffect(() => {\n    const loadTodos = async () => {\n      try {\n        const data = await api.readTodos(token);\n        setTodos(data);\n        console.log(\"---data\", data);\n      } catch ({ message }) {\n        console.log(message);\n      }\n    };\n\n    if (!token) {\n      history.push(routes.signIn);\n    } else {\n      loadTodos();\n    }\n  }, [token]);\n\n  return (\n    <>\n      <Row>\n        <Col style={{ marginTop: \"15px\" }} span={4} offset={20}>\n          <a\n            onClick={() => {\n              history.push(routes.signIn);\n            }}\n          >\n            Switch Login\n          </a>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: \"15px\" }}>\n        <Col span={18} offset={3}>\n          <Card title=\"Todo List\">\n            <Form\n              {...layout}\n              name=\"basic\"\n              initialValues={{\n                remember: true\n              }}\n              onFinish={onFinish}\n              onFinishFailed={onFinishFailed}\n            >\n              <Form.Item\n                label=\"Name\"\n                name=\"name\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your name!\"\n                  }\n                ]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                label=\"Description\"\n                name=\"description\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your description!\"\n                  }\n                ]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item\n                label=\"Due date\"\n                name=\"dd\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your due date!\"\n                  }\n                ]}\n              >\n                <DatePicker />\n              </Form.Item>\n              <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Create Todo\n                </Button>\n              </Form.Item>\n            </Form>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={todos}\n              renderItem={({ id, name, description, dd, status }) => (\n                <List.Item>\n                  <List.Item.Meta\n                    title={<Link to={`/${id}`}>{name}</Link>}\n                    description={description}\n                  />\n                  <List.Item.Meta description={dd} />\n                  <List.Item.Meta description={status} />\n                </List.Item>\n              )}\n            />\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}